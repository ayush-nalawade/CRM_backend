{"timestamp":"2025-07-19T07:24:39.733Z","level":"ERROR","message":"Database initialization failed:","data":{"error":"connect ECONNREFUSED 127.0.0.1:3306","stack":"SequelizeConnectionRefusedError: connect ECONNREFUSED 127.0.0.1:3306\n    at ConnectionManager.connect (/home/ayush/Documents/Work/CRM/node_modules/sequelize/lib/dialects/mysql/connection-manager.js:92:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async ConnectionManager._connect (/home/ayush/Documents/Work/CRM/node_modules/sequelize/lib/dialects/abstract/connection-manager.js:222:24)\n    at async /home/ayush/Documents/Work/CRM/node_modules/sequelize/lib/dialects/abstract/connection-manager.js:174:32\n    at async ConnectionManager.getConnection (/home/ayush/Documents/Work/CRM/node_modules/sequelize/lib/dialects/abstract/connection-manager.js:197:7)\n    at async /home/ayush/Documents/Work/CRM/node_modules/sequelize/lib/sequelize.js:305:26\n    at async Sequelize.authenticate (/home/ayush/Documents/Work/CRM/node_modules/sequelize/lib/sequelize.js:457:5)\n    at async initializeDatabase (/home/ayush/Documents/Work/CRM/src/app.js:151:9)"}}
{"timestamp":"2025-07-19T09:12:58.504Z","level":"ERROR","message":"Database initialization failed:","data":{"error":"connect ECONNREFUSED 127.0.0.1:3306","stack":"SequelizeConnectionRefusedError: connect ECONNREFUSED 127.0.0.1:3306\n    at ConnectionManager.connect (/home/ayush/Documents/Work/CRM/node_modules/sequelize/lib/dialects/mysql/connection-manager.js:92:17)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async ConnectionManager._connect (/home/ayush/Documents/Work/CRM/node_modules/sequelize/lib/dialects/abstract/connection-manager.js:222:24)\n    at async /home/ayush/Documents/Work/CRM/node_modules/sequelize/lib/dialects/abstract/connection-manager.js:174:32\n    at async ConnectionManager.getConnection (/home/ayush/Documents/Work/CRM/node_modules/sequelize/lib/dialects/abstract/connection-manager.js:197:7)\n    at async /home/ayush/Documents/Work/CRM/node_modules/sequelize/lib/sequelize.js:305:26\n    at async Sequelize.authenticate (/home/ayush/Documents/Work/CRM/node_modules/sequelize/lib/sequelize.js:457:5)\n    at async initializeDatabase (/home/ayush/Documents/Work/CRM/src/app.js:151:9)"}}
{"timestamp":"2025-07-19T09:13:46.148Z","level":"ERROR","message":"Error occurred","data":{"requestId":"req_1752916426027_1s5t0gw8n","error":{"name":"TypeError","message":"Cannot read properties of undefined (reading 'get')","stack":"TypeError: Cannot read properties of undefined (reading 'get')\n    at Logger.json (/home/ayush/Documents/Work/CRM/node_modules/express/lib/response.js:240:20)\n    at Logger.<anonymous> (/home/ayush/Documents/Work/CRM/src/utils/logger.js:136:33)\n    at register (/home/ayush/Documents/Work/CRM/src/controllers/auth.controller.js:19:25)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"},"request":{"method":"POST","url":"/api/auth/register","ip":"::1","userAgent":"PostmanRuntime/7.44.1","userId":"anonymous"},"responseTime":"121ms"}}
{"timestamp":"2025-07-19T09:17:33.085Z","level":"ERROR","message":"User registration failed","data":{"requestId":"req_1752916653076_pk4ncu0kp","error":"User with this email already exists","email":"ayush@gmail.com"}}
{"timestamp":"2025-07-19T09:17:33.086Z","level":"ERROR","message":"Error occurred","data":{"requestId":"req_1752916653076_pk4ncu0kp","error":{"name":"ConflictError","message":"User with this email already exists","stack":"ConflictError: User with this email already exists\n    at register (/home/ayush/Documents/Work/CRM/src/controllers/auth.controller.js:31:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","code":"CONFLICT_ERROR","statusCode":409},"request":{"method":"POST","url":"/api/auth/register","ip":"::1","userAgent":"PostmanRuntime/7.44.1","userId":"anonymous"},"responseTime":"10ms"}}
{"timestamp":"2025-07-19T09:22:21.472Z","level":"ERROR","message":"Error occurred","data":{"requestId":"req_1752916941471_p0lrdwd72","error":{"name":"TypeError","message":"Cannot read properties of undefined (reading 'accessToken')","stack":"TypeError: Cannot read properties of undefined (reading 'accessToken')\n    at exports.protect (/home/ayush/Documents/Work/CRM/src/middlewares/auth.middleware.js:8:29)\n    at Layer.handleRequest (/home/ayush/Documents/Work/CRM/node_modules/router/lib/layer.js:152:17)\n    at next (/home/ayush/Documents/Work/CRM/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/home/ayush/Documents/Work/CRM/node_modules/router/lib/route.js:117:3)\n    at handle (/home/ayush/Documents/Work/CRM/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/home/ayush/Documents/Work/CRM/node_modules/router/lib/layer.js:152:17)\n    at /home/ayush/Documents/Work/CRM/node_modules/router/index.js:295:15\n    at processParams (/home/ayush/Documents/Work/CRM/node_modules/router/index.js:582:12)\n    at next (/home/ayush/Documents/Work/CRM/node_modules/router/index.js:291:5)\n    at Function.handle (/home/ayush/Documents/Work/CRM/node_modules/router/index.js:186:3)"},"request":{"method":"GET","url":"/api/customers","ip":"::1","userAgent":"PostmanRuntime/7.44.1","userId":"anonymous"},"responseTime":"1ms"}}
